{%extends "base.html"%}

{% block title %}
    Habit Tracker
{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{url_for('static', filename='styles/homepage.css')}}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Black+Ops+One&family=Madimi+One&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Underdog&display=swap" rel="stylesheet">
{% endblock %}


{%block content%}
    <header id="nav">
        <h1 class="top">Habit Tracker</h1>

        <div class="topnav">
            <a class="active" href="{{url_for('home.homepage')}}">Track Habit</a>
            <a href="{{url_for('todolist.todolist_page')}}">To Do List</a>
            <a href="#about">About</a>
            <a href="{{url_for('auth.logout')}}">Logout</a>
        </div>
    </header>

    <main>
        <section class="button-section">
            <button onclick="showPopup()" id="create-habit-btn" class="button">
                Create New Habit+
            </button>
        </section>

        <!-- Form Section -->
        <div id="popup-form" style="display: none;">
            <form id="habit-form" class="habit-form">
                <label for="habit-name">Habit Name:</label>
                <input type="text" id="habit-name" name="habit-name" required>

                <label for="time-limit">Time Limit (in hours):</label>
                <input type="number" id="time-limit" name="time-limit" required>

                <label for="Note">Add Note</label>
                <input type="text" id="Note" name="Note">

                <label for="habit-name">Habit Name:</label>
                <input type="text" id="habit-name" name="habit-name" required>

                <label for="Days">Days</label>
                <input type="text" id="Days" name="Days" required>

                <button type="submit" class="submit-btn">Submit</button>
            </form>
        </div>
    </main>

    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        function showPopup() {
            Swal.fire({
                title: "Create New Habit",
                html: document.getElementById('popup-form').innerHTML,
                showCloseButton: true,
                showCancelButton: true,
                focusConfirm: false,
                showConfirmButton: false,
                cancelButtonText: 'Cancel',
                icon: 'info',
                preConfirm: () => {
                    // You can add form validation or handling here if needed
                    return {
                        habitName: document.getElementById('habit-name').value,
                        timeLimit: document.getElementById('time-limit').value
                    };
                }
            }).then((result) => {
                if (result.isConfirmed) {
                    // Process the form data as needed
                    console.log(result.value); // Replace with your form submission logic
                }
            });
        }
    </script>
{%endblock%}
